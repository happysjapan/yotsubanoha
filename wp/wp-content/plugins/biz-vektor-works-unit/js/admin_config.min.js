jQuery(function(a){a(".bv_field_setting_switch").change(function(){switch_field_disable();});a(".deleatbox").change(function(){if(a(this).is(":checked")){a(this).parent().parent().parent("li").addClass("delete");
}else{a(this).parent().parent().parent("li").removeClass("delete");}switch_field_disable();});a("#tablelabels").sortable();a("#vbw_save_menu_header").click(function(){var b=a("#tablelabels").sortable("toArray",{attribute:"class"});
a("#fieldorder").val(b);a("#bizvektor_works_optionform").submit();});a(".bv_field_inputs").change(function(){a(this).parent().parent().parent().find(".des_label").html(a(this).val());
});});function juufuku(){jQuery(".bv_inputs_slug").change(function(){mayname=jQuery(this).val();if(mayname){flag=0;jQuery(".bv_inputs_slug").each(function(){if(jQuery(this).val()==mayname){flag+=1;
}});if(flag>1){jQuery("#vbw_save_menu_header").attr("disabled","disabled");jQuery(".field_notice.slu").css("display","block");}else{jQuery("#vbw_save_menu_header").removeAttr("disabled");
jQuery(".field_notice.slu").css("display","none");}}});}function check_field_del(){deleat_checked=false;jQuery(".deleatbox").each(function(){if(jQuery(this).is(":checked")){deleat_checked=true;
jQuery(".field_notice.del").css("display","block");return true;}});if(!deleat_checked){jQuery(".field_notice.del").css("display","none");return false;}return true;
}function switch_field_disable(){if(jQuery(".bv_field_setting_switch").is(":checked")){jQuery(".bv_field_inputs").removeAttr("disabled");jQuery("#add_field").css("display","inline");
jQuery("#nocheck_field").css("display","inline");jQuery("#tablelabels").removeClass("viewer").addClass("editor");}else{jQuery("#add_field").css("display","none");
jQuery("#nocheck_field").css("display","none");jQuery("#tablelabels").removeClass("editor").addClass("viewer");}check_field_del();}function add_the_field(d,b,a){if(d==null&&b==null&&a==null){b=++lastnum;
d="";delfeed="";a="bv-works-meta-"+b;newin='<input type="hidden" name="options[field_cullum]['+b+'][new]" value="on" />';}else{delfeed='<label><input type="checkbox" class="bv_field_inputs deleatbox" name="bw_delete['+b+']" value="Delete" />削除</label>';
newin="";}var c='<li class="'+b+'"><div class="bv_label_field" ><span class="des_label">'+d+'</span></div><div class="bv_inputs_field"><label>スラッグ<input type="text" name="options[field_cullum]['+b+'][slug]" class="bv_inputs_slug" value="'+a+'" /></label><label>表示名<input type="text" class="bv_field_inputs field-cullm" name="options[field_cullum]['+b+'][label]" value="'+d+'" /></label>'+newin+delfeed+"</div></li>";
jQuery("#tablelabels").append(c);juufuku();}function purge_the_field(){jQuery(".deleatbox").each(function(){jQuery(this).attr("checked",false);jQuery(this).parent().parent().parent().css("background-color","#fff");
});jQuery("#agreefielddelete").attr("checked",false);switch_field_disable();}function rst_field(){jQuery("#tablelabels li").remove();if(fieldOrder.length){for(var a=0;
a<fieldOrder.length;a++){var b=fieldOrder[a];if(!fieldValue[b]["value"]&&fieldValue[b]["value"]!="0"){fieldValue[b]["value"]="";}add_the_field(fieldValue[b]["value"],b,fieldValue[b]["slug"]);
}}jQuery("#agreefielddelete").attr("checked",false);switch_field_disable();}function add_the_taxonomy(d,a,b){if(!d){d="";}if(!a){a="";}if(!b){b=++taxs;
}var c='<tr><td colspan="2"><label>スラッグ  <input type="text" class="bv_tax_inputs" name="options[taxonomy_list]['+b+'][slug]" value="'+a+'" /></label><label>表示名   <input type="text" class="bv_tax_inputs" name="options[taxonomy_list]['+b+'][label]" value="'+d+'" /></label><label><input type="checkbox" class="bv_tax_inputs" name="options[taxonomy_list]['+b+'][delete] value="on" />削除</label><input type="hidden" name="options[taxonomy_list]['+b+'][show]" value="show" /></td>';
jQuery("#table-taxonomies").append(c);}function togglead(a){if(a!=null){if(a){jQuery(".bw-advance").show();}else{jQuery(".bw-advance").hide();}}else{jQuery(".bw-advance").toggle();
}}